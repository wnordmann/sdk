
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Tutorial Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0-pre.1">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="styles/website.css">
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="writing_components.html" />
    
    
    <link rel="prev" href="wab.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting_started.html">
            
                <a href="getting_started.html">
            
                    
                    Getting started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="wab.html">
            
                <a href="wab.html">
            
                    
                    QGIS Web Application Builder
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4" data-path="tutorial.html">
            
                <a href="tutorial.html">
            
                    
                    Tutorial
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="writing_components.html">
            
                <a href="writing_components.html">
            
                    
                    Writing components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="developers.html">
            
                <a href="developers.html">
            
                    
                    For developers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="api.html">
            
                <a href="api.html">
            
                    
                    API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="api/AddLayer.html">
            
                <a href="api/AddLayer.html">
            
                    
                    AddLayer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="api/Bookmarks.html">
            
                <a href="api/Bookmarks.html">
            
                    
                    Bookmarks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="api/Chart.html">
            
                <a href="api/Chart.html">
            
                    
                    Chart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="api/Edit.html">
            
                <a href="api/Edit.html">
            
                    
                    Edit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="api/EditPopup.html">
            
                <a href="api/EditPopup.html">
            
                    
                    EditPopup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="api/FeatureTable.html">
            
                <a href="api/FeatureTable.html">
            
                    
                    FeatureTable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="api/Geocoding.html">
            
                <a href="api/Geocoding.html">
            
                    
                    Geocoding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="api/GeocodingResults.html">
            
                <a href="api/GeocodingResults.html">
            
                    
                    GeocodingResults
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="api/Geolocation.html">
            
                <a href="api/Geolocation.html">
            
                    
                    Geolocation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="api/Globe.html">
            
                <a href="api/Globe.html">
            
                    
                    Globe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="api/HomeButton.html">
            
                <a href="api/HomeButton.html">
            
                    
                    HomeButton
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.12" data-path="api/ImageExport.html">
            
                <a href="api/ImageExport.html">
            
                    
                    ImageExport
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.13" data-path="api/InfoPopup.html">
            
                <a href="api/InfoPopup.html">
            
                    
                    InfoPopup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.14" data-path="api/LayerList.html">
            
                <a href="api/LayerList.html">
            
                    
                    LayerList
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15" data-path="api/LoadingPanel.html">
            
                <a href="api/LoadingPanel.html">
            
                    
                    LoadingPanel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.16" data-path="api/Login.html">
            
                <a href="api/Login.html">
            
                    
                    Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.17" data-path="api/MapConfig.html">
            
                <a href="api/MapConfig.html">
            
                    
                    MapConfig
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.18" data-path="api/Measure.html">
            
                <a href="api/Measure.html">
            
                    
                    Measure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.19" data-path="api/Playback.html">
            
                <a href="api/Playback.html">
            
                    
                    Playback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.20" data-path="api/QGISLegend.html">
            
                <a href="api/QGISLegend.html">
            
                    
                    QGISLegend
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.21" data-path="api/QGISPrint.html">
            
                <a href="api/QGISPrint.html">
            
                    
                    QGISPrint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.22" data-path="api/QueryBuilder.html">
            
                <a href="api/QueryBuilder.html">
            
                    
                    QueryBuilder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.23" data-path="api/Select.html">
            
                <a href="api/Select.html">
            
                    
                    Select
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.24" data-path="api/WFST.html">
            
                <a href="api/WFST.html">
            
                    
                    WFST
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Tutorial</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="tutorial">Tutorial</h1><h2 id="1-using-the-generator">1. Using the generator</h2><p>In the getting started section we have learned how to create a skeleton application with the <code>web-sdk</code> command.</p><p>The skeleton application contains two base map layers, OSM streets and ESRI world imagery, and a single widget, the <code>LayerList</code> widget.</p><p>The main file of the application is <code>app.jsx</code>. Open up this file in your favorite text editor. Look for the definition of <code>ol.Map</code>. The map gets defined with a layer group, that combines the OSM streets and ESRI world imagery layers. The view is defined with an initial  center and zoom level. If you are not familiar with OpenLayers 3, the recommendation is to use the workshop at <a href="http://openlayers.org/workshop/" target="_blank">http://openlayers.org/workshop/</a> to get up to speed with OpenLayers 3.</p><h2 id="2-adding-a-vector-layer-from-a-geojson-file">2. Adding a vector layer from a GeoJSON file</h2><p>Create a subdirectory called <code>data</code> in the root of the application directory, download USA states data as GeoJSON from: <a href="http://data.okfn.org/data/datasets/geo-boundaries-us-110m" target="_blank">http://data.okfn.org/data/datasets/geo-boundaries-us-110m</a> and save it to the <code>data</code> subdirectory.</p><pre><code>mkdir data
curl &quot;https://raw.githubusercontent.com/datasets/geo-boundaries-us-110m/master/json/ne_110m_admin_1_states_provinces_shp_scale_rank.geojson&quot; -o data/ne_110m_admin_1_states_provinces_shp_scale_rank.geojson</code></pre>
<p>Add the following layer definition in <code>app.jsx</code> after the existing <code>ol.layer.Group</code>:</p><pre><code class="lang-javascript">  <span class="hljs-keyword">new</span> ol.layer.Vector({
    id: <span class="hljs-string">&apos;states&apos;</span>,
    title: <span class="hljs-string">&apos;USA States&apos;</span>,
    source: <span class="hljs-keyword">new</span> ol.source.Vector({
      url: <span class="hljs-string">&apos;data/ne_110m_admin_1_states_provinces_shp_scale_rank.geojson&apos;</span>,
      format: <span class="hljs-keyword">new</span> ol.format.GeoJSON()
    })
  })</code></pre>
<p>And change the view&apos;s center so that the GeoJSON layer will be visible on start up:</p><pre><code class="lang-javascript">  view: <span class="hljs-keyword">new</span> ol.View({
    center: [<span class="hljs-number">-10605790.55</span>, <span class="hljs-number">4363637.07</span>],
    zoom: <span class="hljs-number">4</span>
  })</code></pre>
<p>The full map definition should now look like:</p><pre><code class="lang-javascript"><span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> ol.Map({
  layers: [
    <span class="hljs-keyword">new</span> ol.layer.Group({
      type: <span class="hljs-string">&apos;base-group&apos;</span>,
      title: <span class="hljs-string">&apos;Base maps&apos;</span>,
      layers: [
        <span class="hljs-keyword">new</span> ol.layer.Tile({
          type: <span class="hljs-string">&apos;base&apos;</span>,
          title: <span class="hljs-string">&apos;OSM Streets&apos;</span>,
          source: <span class="hljs-keyword">new</span> ol.source.OSM()
        }),
        <span class="hljs-keyword">new</span> ol.layer.Tile({
          type: <span class="hljs-string">&apos;base&apos;</span>,
          title: <span class="hljs-string">&apos;ESRI world imagery&apos;</span>,
          visible: <span class="hljs-literal">false</span>,
          source: <span class="hljs-keyword">new</span> ol.source.XYZ({
            attributions: [
              <span class="hljs-keyword">new</span> ol.Attribution({
                html:[<span class="hljs-string">&apos;Tiles &amp;copy; Esri &amp;mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community&apos;</span>]
              })
            ],
            url: <span class="hljs-string">&apos;http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}&apos;</span>
          })
        })
      ]
    }),
    <span class="hljs-keyword">new</span> ol.layer.Vector({
      id: <span class="hljs-string">&apos;states&apos;</span>,
      title: <span class="hljs-string">&apos;USA States&apos;</span>,
      source: <span class="hljs-keyword">new</span> ol.source.Vector({
        url: <span class="hljs-string">&apos;data/ne_110m_admin_1_states_provinces_shp_scale_rank.geojson&apos;</span>,
        format: <span class="hljs-keyword">new</span> ol.format.GeoJSON()
      })
    })
  ],
  view: <span class="hljs-keyword">new</span> ol.View({
    center: [<span class="hljs-number">-10605790.55</span>, <span class="hljs-number">4363637.07</span>],
    zoom: <span class="hljs-number">4</span>
  })
});</code></pre>
<h2 id="3-adding-a-feature-grid">3. Adding a feature grid</h2><p>In this step we&apos;ll learn how to add another component to the application, besides the LayerList component which is already in the application. First, we&apos;ll add an import statement at the top of <code>app.jsx</code>:</p><pre><code class="lang-javascript"><span class="hljs-keyword">import</span> FeatureTable <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/js/components/FeatureTable.jsx&apos;</span>;</code></pre>
<p>In the render function of our application, we need to add the definition of our new component, FeatureTable:</p><p>The feature table needs to get configured with at least a layer and a map:</p><pre><code class="lang-html">  <span class="hljs-tag">&lt;<span class="hljs-name">MapPanel</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&apos;map&apos;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&apos;row&apos;</span> <span class="hljs-attr">map</span>=<span class="hljs-string">{map}</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">LayerList</span> <span class="hljs-attr">map</span>=<span class="hljs-string">{map}</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&apos;zoom-buttons&apos;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Zoom</span> <span class="hljs-attr">map</span>=<span class="hljs-string">{map}</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&apos;table&apos;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&apos;row&apos;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">FeatureTable</span> <span class="hljs-attr">resizeTo</span>=<span class="hljs-string">&apos;table&apos;</span> <span class="hljs-attr">map</span>=<span class="hljs-string">{map}</span> <span class="hljs-attr">layer</span>=<span class="hljs-string">{map.getLayers().item(1)}</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<p>Our div with id <code>table</code> does not yet have a size, so open up <code>app.css</code> and give it some space on the page:</p><pre><code class="lang-css"><span class="hljs-selector-id">#map</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">50%</span>;
}
<span class="hljs-selector-id">#table</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">50%</span>;
}</code></pre>
<p>We have reduced the map div to 50% height and allocated the other 50% for the table.</p><p>If you reload the debug server at <a href="http://localhost:3000/" target="_blank">http://localhost:3000/</a> you&apos;ll see that we now have a feature table at the bottom of the page. With the <code>resizeTo</code> property we have told the FeatureTable to resize itself to the div with id <code>table</code>.</p><p>When you click a row in the feature table, it will select the corresponding geometry in the map.</p><p>Our app.jsx will now  look like:</p><pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
<span class="hljs-keyword">import</span> ReactDOM <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-dom&apos;</span>;
<span class="hljs-keyword">import</span> ol <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;openlayers&apos;</span>;
<span class="hljs-keyword">import</span> {addLocaleData, IntlProvider} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-intl&apos;</span>;
<span class="hljs-keyword">import</span> Zoom <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/js/components/Zoom.jsx&apos;</span>;
<span class="hljs-keyword">import</span> MapPanel <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/js/components/MapPanel.jsx&apos;</span>;
<span class="hljs-keyword">import</span> FeatureTable <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/js/components/FeatureTable.jsx&apos;</span>;
<span class="hljs-keyword">import</span> LayerList <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/js/components/LayerList.jsx&apos;</span>;
<span class="hljs-keyword">import</span> injectTapEventPlugin <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-tap-event-plugin&apos;</span>;
<span class="hljs-keyword">import</span> enLocaleData <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-intl/locale-data/en.js&apos;</span>;
<span class="hljs-keyword">import</span> enMessages <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/locale/en.js&apos;</span>;

<span class="hljs-comment">// Needed for onTouchTap</span>
<span class="hljs-comment">// Can go away when react 1.0 release</span>
<span class="hljs-comment">// Check this repo:</span>
<span class="hljs-comment">// https://github.com/zilverline/react-tap-event-plugin</span>
injectTapEventPlugin();

addLocaleData(
  enLocaleData
);

<span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> ol.Map({
  controls: [<span class="hljs-keyword">new</span> ol.control.Attribution({collapsible: <span class="hljs-literal">false</span>})],
  layers: [
    <span class="hljs-keyword">new</span> ol.layer.Group({
      type: <span class="hljs-string">&apos;base-group&apos;</span>,
      title: <span class="hljs-string">&apos;Base maps&apos;</span>,
      layers: [
        <span class="hljs-keyword">new</span> ol.layer.Tile({
          type: <span class="hljs-string">&apos;base&apos;</span>,
          title: <span class="hljs-string">&apos;OSM Streets&apos;</span>,
          source: <span class="hljs-keyword">new</span> ol.source.OSM()
        }),
        <span class="hljs-keyword">new</span> ol.layer.Tile({
          type: <span class="hljs-string">&apos;base&apos;</span>,
          title: <span class="hljs-string">&apos;ESRI world imagery&apos;</span>,
          visible: <span class="hljs-literal">false</span>,
          source: <span class="hljs-keyword">new</span> ol.source.XYZ({
            attributions: [
              <span class="hljs-keyword">new</span> ol.Attribution({
                html:[<span class="hljs-string">&apos;Tiles &amp;copy; Esri &amp;mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community&apos;</span>]
              })
            ],
            url: <span class="hljs-string">&apos;http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}&apos;</span>
          })
        })
      ]
    }),
    <span class="hljs-keyword">new</span> ol.layer.Vector({
      id: <span class="hljs-string">&apos;states&apos;</span>,
      title: <span class="hljs-string">&apos;USA States&apos;</span>,
      source: <span class="hljs-keyword">new</span> ol.source.Vector({
        url: <span class="hljs-string">&apos;data/ne_110m_admin_1_states_provinces_shp_scale_rank.geojson&apos;</span>,
        format: <span class="hljs-keyword">new</span> ol.format.GeoJSON()
      })
    })
  ],
  view: <span class="hljs-keyword">new</span> ol.View({
    center: [<span class="hljs-number">-10605790.55</span>, <span class="hljs-number">4363637.07</span>],
    zoom: <span class="hljs-number">4</span>
  })
});

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  render() {
    <span class="hljs-keyword">return</span> (
       &lt;div id=&apos;content&apos;&gt;
        &lt;MapPanel id=&apos;map&apos; className=&apos;row&apos; map={map} /&gt;
        &lt;div&gt;&lt;LayerList map={map} /&gt;&lt;/div&gt;
        &lt;div id=&apos;zoom-buttons&apos;&gt;&lt;Zoom map={map} /&gt;&lt;/div&gt;
        &lt;div id=&apos;table&apos; className=&apos;row&apos;&gt;&lt;FeatureTable resizeTo=&apos;table&apos; map={map} layer={map.getLayers().item(1)} /&gt;&lt;/div&gt;
      &lt;/div&gt;
    );
  }
}

ReactDOM.render(&lt;IntlProvider locale=&apos;en&apos; messages={enMessages}&gt;&lt;MyApp /&gt;&lt;/IntlProvider&gt;, document.getElementById(&apos;main&apos;));</code></pre>
<p>Our app.css will look like:</p><pre><code class="lang-css"><span class="hljs-selector-tag">html</span>, <span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
}
<span class="hljs-comment">/* Dead Simple Grid (c) 2015 Vladimir Agafonkin */</span>
<span class="hljs-selector-class">.row</span> <span class="hljs-selector-class">.row</span> { <span class="hljs-attribute">margin</span>:  <span class="hljs-number">0</span> -<span class="hljs-number">1.5em</span>; }
<span class="hljs-selector-class">.col</span>      { <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>  <span class="hljs-number">0em</span>; }

<span class="hljs-selector-class">.row</span><span class="hljs-selector-pseudo">:after</span> {
    <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;
    <span class="hljs-attribute">clear</span>: both;
    <span class="hljs-attribute">display</span>: table;
}

@<span class="hljs-keyword">media</span> only screen { <span class="hljs-selector-class">.col</span> {
    <span class="hljs-attribute">float</span>: left;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">box-sizing</span>: border-box;
}}
<span class="hljs-comment">/* end Dead Simple Grid */</span>
<span class="hljs-selector-id">#map</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">50%</span>;
}
<span class="hljs-selector-id">#table</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">50%</span>;
}
<span class="hljs-selector-id">#content</span>, <span class="hljs-selector-id">#main</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}
<span class="hljs-selector-id">#zoom-buttons</span> {
  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">20px</span>;
}</code></pre>
<h2 id="4-adding-an-upload-component">4. Adding an upload component</h2><p>In this step we&apos;ll be adding a button to the application that will open up a dialog where the user can upload a vector file, such as a KML, GPX or GeoJSON file.</p><p>Again, we will start by adding an <code>import</code> statement to import our component (and the Toolbar to put the button into):</p><pre><code class="lang-javascript"><span class="hljs-keyword">import</span> AddLayer <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/js/components/AddLayer.jsx&apos;</span>;
<span class="hljs-keyword">import</span> Toolbar <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;material-ui/lib/toolbar/toolbar&apos;</span>;</code></pre>
<p>In the <code>render</code> function of our application, we need to add a toolbar to accommodate for the button of the upload component:</p><pre><code class="lang-html"> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&apos;content&apos;</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">Toolbar</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">AddLayer</span> <span class="hljs-attr">map</span>=<span class="hljs-string">{map}</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Toolbar</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">MapPanel</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&apos;map&apos;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&apos;row&apos;</span> <span class="hljs-attr">map</span>=<span class="hljs-string">{map}</span> /&gt;</span></code></pre>
<p>Open up app.css and take the 56px of the toolbar from the map&apos;s height, and move the zoom buttons 56px down. Also move the layer list button down.</p><pre><code class="lang-css"><span class="hljs-selector-id">#map</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(50% - 56px);
}
<span class="hljs-selector-id">#zoom-buttons</span> {
  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">76px</span>;
}
<span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.layer-switcher</span> {
  <span class="hljs-attribute">top</span>: <span class="hljs-number">4em</span>;
}</code></pre>
<p>The final app.jsx will look like:</p><pre><code class="lang-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
<span class="hljs-keyword">import</span> ReactDOM <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-dom&apos;</span>;
<span class="hljs-keyword">import</span> ol <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;openlayers&apos;</span>;
<span class="hljs-keyword">import</span> {addLocaleData, IntlProvider} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-intl&apos;</span>;
<span class="hljs-keyword">import</span> Zoom <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/js/components/Zoom.jsx&apos;</span>;
<span class="hljs-keyword">import</span> MapPanel <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/js/components/MapPanel.jsx&apos;</span>;
<span class="hljs-keyword">import</span> FeatureTable <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/js/components/FeatureTable.jsx&apos;</span>;
<span class="hljs-keyword">import</span> LayerList <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/js/components/LayerList.jsx&apos;</span>;
<span class="hljs-keyword">import</span> AddLayer <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/js/components/AddLayer.jsx&apos;</span>;
<span class="hljs-keyword">import</span> Toolbar <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;material-ui/lib/toolbar/toolbar&apos;</span>;
<span class="hljs-keyword">import</span> injectTapEventPlugin <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-tap-event-plugin&apos;</span>;
<span class="hljs-keyword">import</span> enLocaleData <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react-intl/locale-data/en.js&apos;</span>;
<span class="hljs-keyword">import</span> enMessages <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;boundless-sdk/locale/en.js&apos;</span>;

<span class="hljs-comment">// Needed for onTouchTap</span>
<span class="hljs-comment">// Can go away when react 1.0 release</span>
<span class="hljs-comment">// Check this repo:</span>
<span class="hljs-comment">// https://github.com/zilverline/react-tap-event-plugin</span>
injectTapEventPlugin();

addLocaleData(
  enLocaleData
);

<span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> ol.Map({
  controls: [<span class="hljs-keyword">new</span> ol.control.Attribution({collapsible: <span class="hljs-literal">false</span>})],
  layers: [
    <span class="hljs-keyword">new</span> ol.layer.Group({
      type: <span class="hljs-string">&apos;base-group&apos;</span>,
      title: <span class="hljs-string">&apos;Base maps&apos;</span>,
      layers: [
        <span class="hljs-keyword">new</span> ol.layer.Tile({
          type: <span class="hljs-string">&apos;base&apos;</span>,
          title: <span class="hljs-string">&apos;OSM Streets&apos;</span>,
          source: <span class="hljs-keyword">new</span> ol.source.OSM()
        }),
        <span class="hljs-keyword">new</span> ol.layer.Tile({
          type: <span class="hljs-string">&apos;base&apos;</span>,
          title: <span class="hljs-string">&apos;ESRI world imagery&apos;</span>,
          visible: <span class="hljs-literal">false</span>,
          source: <span class="hljs-keyword">new</span> ol.source.XYZ({
            attributions: [
              <span class="hljs-keyword">new</span> ol.Attribution({
                html:[<span class="hljs-string">&apos;Tiles &amp;copy; Esri &amp;mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community&apos;</span>]
              })
            ],
            url: <span class="hljs-string">&apos;http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}&apos;</span>
          })
        })
      ]
    }),
    <span class="hljs-keyword">new</span> ol.layer.Vector({
      id: <span class="hljs-string">&apos;states&apos;</span>,
      title: <span class="hljs-string">&apos;USA States&apos;</span>,
      source: <span class="hljs-keyword">new</span> ol.source.Vector({
        url: <span class="hljs-string">&apos;data/ne_110m_admin_1_states_provinces_shp_scale_rank.geojson&apos;</span>,
        format: <span class="hljs-keyword">new</span> ol.format.GeoJSON()
      })
    })
  ],
  view: <span class="hljs-keyword">new</span> ol.View({
    center: [<span class="hljs-number">-10605790.55</span>, <span class="hljs-number">4363637.07</span>],
    zoom: <span class="hljs-number">4</span>
  })
});

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  render() {
    <span class="hljs-keyword">return</span> (
       &lt;div id=&apos;content&apos;&gt;
        &lt;Toolbar&gt;&lt;AddLayer map={map} /&gt;&lt;/Toolbar&gt;
        &lt;MapPanel id=&apos;map&apos; className=&apos;row&apos; map={map} /&gt;
        &lt;div&gt;&lt;LayerList map={map} /&gt;&lt;/div&gt;
        &lt;div id=&apos;zoom-buttons&apos;&gt;&lt;Zoom map={map} /&gt;&lt;/div&gt;
        &lt;div id=&apos;table&apos; className=&apos;row&apos;&gt;&lt;FeatureTable resizeTo=&apos;table&apos; map={map} layer={map.getLayers().item(1)} /&gt;&lt;/div&gt;
      &lt;/div&gt;
    );
  }
}

ReactDOM.render(&lt;IntlProvider locale=&apos;en&apos; messages={enMessages}&gt;&lt;MyApp /&gt;&lt;/IntlProvider&gt;, document.getElementById(&apos;main&apos;));</code></pre>
<p>The final app.css will look like:</p><pre><code class="lang-css"><span class="hljs-selector-tag">html</span>, <span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
}
<span class="hljs-comment">/* Dead Simple Grid (c) 2015 Vladimir Agafonkin */</span>
<span class="hljs-selector-class">.row</span> <span class="hljs-selector-class">.row</span> { <span class="hljs-attribute">margin</span>:  <span class="hljs-number">0</span> -<span class="hljs-number">1.5em</span>; }
<span class="hljs-selector-class">.col</span>      { <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>  <span class="hljs-number">0em</span>; }

<span class="hljs-selector-class">.row</span><span class="hljs-selector-pseudo">:after</span> {
    <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;
    <span class="hljs-attribute">clear</span>: both;
    <span class="hljs-attribute">display</span>: table;
}

@<span class="hljs-keyword">media</span> only screen { <span class="hljs-selector-class">.col</span> {
    <span class="hljs-attribute">float</span>: left;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">box-sizing</span>: border-box;
}}
<span class="hljs-comment">/* end Dead Simple Grid */</span>
<span class="hljs-selector-id">#map</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(50% - 56px);
}
<span class="hljs-selector-id">#table</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">50%</span>;
}
<span class="hljs-selector-id">#content</span>, <span class="hljs-selector-id">#main</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}
<span class="hljs-selector-id">#zoom-buttons</span> {
  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">76px</span>;
}
<span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.layer-switcher</span> {
  <span class="hljs-attribute">top</span>: <span class="hljs-number">4em</span>;
}</code></pre>
<p>The final application will look like: <img alt="final tutorial application" src="tutorial.png">.</p>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="wab.html" class="navigation navigation-prev " aria-label="Previous page: QGIS Web Application Builder">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="writing_components.html" class="navigation navigation-next " aria-label="Next page: Writing components">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Tutorial","level":"1.4","depth":1,"next":{"title":"Writing components","level":"1.5","depth":1,"path":"writing_components.md","ref":"writing_components.md","articles":[]},"previous":{"title":"QGIS Web Application Builder","level":"1.3","depth":1,"path":"wab.md","ref":"wab.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"root":"docs","styles":{"website":"styles/website.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"tutorial.md","mtime":"2016-12-02T12:20:22.332Z","type":"markdown"},"gitbook":{"version":"3.2.0-pre.1","time":"2016-12-02T12:24:47.768Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

